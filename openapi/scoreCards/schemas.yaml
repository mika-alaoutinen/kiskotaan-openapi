NewScoreCard:
  type: object
  description: A new  score card with selected course and players. Course and players are specified by IDs.
  required:
    - courseId
    - playerIds
  properties:
    courseId:
      type: number
    playerIds:
      type: array
      items:
        type: number
      minItems: 1
      maxItems: 5
      uniqueItems: true

ScoreCard:
  description: A score card for tracking scores for a group of players.
  required:
    - id
    - course
    - players
    - scores
  properties:
    id:
      type: number
    course:
      $ref: "#/Course"
    players:
      type: array
      items:
        $ref: "#/Player"
      minItems: 1
      maxItems: 5
    scores:
      description: |
        Map of players' scores. Key is playerId and value is list of scores.
        Keys are strings due to OpenAPI spec limitations.
      type: object
      additionalProperties:
        type: array
        items:
          $ref: "#/PlayerScore"
      example:
        "123":
          [{ result: 0, total: 3, scores: [{ id: 111, hole: 1, score: 4 }] }]
        "456":
          [{ result: 1, total: 4, scores: [{ id: 222, hole: 1, score: 5 }] }]

ScoreCardSummary:
  description: A summarized view of a score card with scores condensed.
  required:
    - id
    - course
    - players
    - scores
  properties:
    id:
      type: number
    course:
      $ref: "#/Course"
    players:
      type: array
      items:
        $ref: "#/Player"
      minItems: 1
      maxItems: 5
    scores:
      description: |
        Map of players' scores. Key is playerId and value is summary of player's round score.
        Keys are strings due to OpenAPI spec limitations.
      type: object
      additionalProperties:
        type: array
        items:
          $ref: "#/PlayerScoreSummary"
      example:
        "123": [{ holesPlayed: 2, result: -1, total: 5 }]
        "456": [{ holesPlayed: 2, result: 1, total: 7 }]

Course:
  type: object
  description: Info about a course.
  required:
    - id
    - holes
    - name
    - par
  properties:
    id:
      type: number
    holes:
      type: integer
    name:
      type: string
    par:
      type: integer

Player:
  type: object
  description: Info about a player.
  required:
    - id
    - firstName
    - lastName
  properties:
    id:
      type: number
    firstName:
      type: string
    lastName:
      type: string

NewScore:
  type: object
  description: A new score entry for a player.
  required:
    - playerId
    - hole
    - score
  properties:
    playerId:
      type: number
    hole:
      type: integer
      minimum: 1
      maximum: 30
    score:
      type: integer
      minimum: 1
      maximum: 99

PlayerScore:
  type: object
  description: Round scores for a player.
  required:
    - result
    - total
    - scores
  properties:
    result:
      description: How many strokes over or under course par the current total score is.
      type: integer
    total:
      description: Sum of player's scores for all holes.
      type: integer
    scores:
      description: Players' score entries for the round.
      type: array
      items:
        $ref: "#/Score"

PlayerScoreSummary:
  type: object
  description: A summarized view of player's round scores.
  required:
    - holesPlayed
    - result
    - total
  properties:
    holesPlayed:
      description: How many holes have been played.
      type: integer
    result:
      description: How many strokes over or under course par the current total score is.
      type: integer
    total:
      description: Sum of player's scores for all holes.
      type: integer

Score:
  type: object
  description: A score entry.
  required:
    - id
    - hole
    - score
  properties:
    id:
      type: number
    hole:
      type: integer
      minimum: 1
      maximum: 30
    score:
      type: integer
      minimum: 1
      maximum: 99
